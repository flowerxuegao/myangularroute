<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <script src = "../public/javascripts/angular/angular.min.js"></script>
    <script src = "directives.js"></script>
</head>
<body>
    <div type = "button">按钮</div>
</body>
<script>
    window.onpopstate = function(){
        var url = location.href;
        if(url.indexOf("#")>-1)
        {
            var ajaxurl = url.slice(url.indexOf("#")+1);
            var xmlobj = new XMLHttpRequest();
            xmlobj.onload = function(){
                document.querySelector("div").innerHTML=xmlobj.response;
            }
            xmlobj.open("get",ajaxurl);
            xmlobj.send();
        }else{
            document.querySelector("div").innerHTML="";
        }
        document.querySelector("button").onclick = function(){
            var newurl = url+"#demo1.html";
            location.href = newurl;
            var xmlobj = new XMLHttpRequest();
            xmlobj.onload = function(){
                document.querySelector("div").innerHTML= xmlobj.response;
            }
            xmlobj.open("get","demo1.html");
            xmlobj.send();
        }
    }
    var url = location.href;
    if(url.indexOf("#")>-1)
    {
        var ajaxurl = url.slice(url.indexOf("#")+1);
        var xmlobj = new XMLHttpRequest();
        xmlobj.onload = function(){
            document.querySelector("div").innerHTML = xmlobj.response
        }
        xmlobj.open("get",ajaxurl);
        xmlobj.send();
    }else{
        document.querySelector("div").innerHTML="";
    }
    document.querySelector("button").onclick = function(){
        var newurl = url+"#demo1.html";
        location.href = newurl;
        var xmlobj = new XMLHttpRequest();
        xmlobj.onload = function(){
            document.querySelector("div").innerHTML=xmlobj.response
        }
        xmlobj.open("get","demo1.html");
        xmlobj.send();
    }
</script>
</html>